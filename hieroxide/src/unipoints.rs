use std::collections::HashMap;
use std::str::Chars;
use phf::{phf_map, phf_ordered_set};
use lazy_static::lazy_static;
use regex::Regex;
use crate::EXT_GLYPHS;

static UNI_GLYPHS: phf::Map<&'static str, char> = phf_map! {
    "A1" => '\u{13000}',
    "A2" => '\u{13001}',
    "A3" => '\u{13002}',
    "A4" => '\u{13003}',
    "A5" => '\u{13004}',
    "A5a" => '\u{13005}',
    "A6" => '\u{13006}',
    "A6a" => '\u{13007}',
    "A6b" => '\u{13008}',
    "A7" => '\u{13009}',
    "A8" => '\u{1300A}',
    "A9" => '\u{1300B}',
    "A10" => '\u{1300C}',
    "A11" => '\u{1300D}',
    "A12" => '\u{1300E}',
    "A13" => '\u{1300F}',
    "A14" => '\u{13010}',
    "A14a" => '\u{13011}',
    "A15" => '\u{13012}',
    "A16" => '\u{13013}',
    "A17" => '\u{13014}',
    "A17a" => '\u{13015}',
    "A18" => '\u{13016}',
    "A19" => '\u{13017}',
    "A20" => '\u{13018}',
    "A21" => '\u{13019}',
    "A22" => '\u{1301A}',
    "A23" => '\u{1301B}',
    "A24" => '\u{1301C}',
    "A25" => '\u{1301D}',
    "A26" => '\u{1301E}',
    "A27" => '\u{1301F}',
    "A28" => '\u{13020}',
    "A29" => '\u{13021}',
    "A30" => '\u{13022}',
    "A31" => '\u{13023}',
    "A32" => '\u{13024}',
    "A32a" => '\u{13025}',
    "A33" => '\u{13026}',
    "A34" => '\u{13027}',
    "A35" => '\u{13028}',
    "A36" => '\u{13029}',
    "A37" => '\u{1302A}',
    "A38" => '\u{1302B}',
    "A39" => '\u{1302C}',
    "A40" => '\u{1302D}',
    "A40a" => '\u{1302E}',
    "A41" => '\u{1302F}',
    "A42" => '\u{13030}',
    "A42a" => '\u{13031}',
    "A43" => '\u{13032}',
    "A43a" => '\u{13033}',
    "A44" => '\u{13034}',
    "A45" => '\u{13035}',
    "A45a" => '\u{13036}',
    "A46" => '\u{13037}',
    "A47" => '\u{13038}',
    "A48" => '\u{13039}',
    "A49" => '\u{1303A}',
    "A50" => '\u{1303B}',
    "A51" => '\u{1303C}',
    "A52" => '\u{1303D}',
    "A53" => '\u{1303E}',
    "A54" => '\u{1303F}',
    "A55" => '\u{13040}',
    "A56" => '\u{13041}',
    "A57" => '\u{13042}',
    "A58" => '\u{13043}',
    "A59" => '\u{13044}',
    "A60" => '\u{13045}',
    "A61" => '\u{13046}',
    "A62" => '\u{13047}',
    "A63" => '\u{13048}',
    "A64" => '\u{13049}',
    "A65" => '\u{1304A}',
    "A66" => '\u{1304B}',
    "A67" => '\u{1304C}',
    "A68" => '\u{1304D}',
    "A69" => '\u{1304E}',
    "A70" => '\u{1304F}',
    "B1" => '\u{13050}',
    "B2" => '\u{13051}',
    "B3" => '\u{13052}',
    "B4" => '\u{13053}',
    "B5" => '\u{13054}',
    "B5a" => '\u{13055}',
    "B6" => '\u{13056}',
    "B7" => '\u{13057}',
    "B8" => '\u{13058}',
    "B9" => '\u{13059}',
    "C1" => '\u{1305A}',
    "C2" => '\u{1305B}',
    "C2a" => '\u{1305C}',
    "C2b" => '\u{1305D}',
    "C2c" => '\u{1305E}',
    "C3" => '\u{1305F}',
    "C4" => '\u{13060}',
    "C5" => '\u{13061}',
    "C6" => '\u{13062}',
    "C7" => '\u{13063}',
    "C8" => '\u{13064}',
    "C9" => '\u{13065}',
    "C10" => '\u{13066}',
    "C10a" => '\u{13067}',
    "C11" => '\u{13068}',
    "C12" => '\u{13069}',
    "C13" => '\u{1306A}',
    "C14" => '\u{1306B}',
    "C15" => '\u{1306C}',
    "C16" => '\u{1306D}',
    "C17" => '\u{1306E}',
    "C18" => '\u{1306F}',
    "C19" => '\u{13070}',
    "C20" => '\u{13071}',
    "C21" => '\u{13072}',
    "C22" => '\u{13073}',
    "C23" => '\u{13074}',
    "C24" => '\u{13075}',
    "D1" => '\u{13076}',
    "D2" => '\u{13077}',
    "D3" => '\u{13078}',
    "D4" => '\u{13079}',
    "D5" => '\u{1307A}',
    "D6" => '\u{1307B}',
    "D7" => '\u{1307C}',
    "D8" => '\u{1307D}',
    "D8a" => '\u{1307E}',
    "D9" => '\u{1307F}',
    "D10" => '\u{13080}',
    "D11" => '\u{13081}',
    "D12" => '\u{13082}',
    "D13" => '\u{13083}',
    "D14" => '\u{13084}',
    "D15" => '\u{13085}',
    "D16" => '\u{13086}',
    "D17" => '\u{13087}',
    "D18" => '\u{13088}',
    "D19" => '\u{13089}',
    "D20" => '\u{1308A}',
    "D21" => '\u{1308B}',
    "D22" => '\u{1308C}',
    "D23" => '\u{1308D}',
    "D24" => '\u{1308E}',
    "D25" => '\u{1308F}',
    "D26" => '\u{13090}',
    "D27" => '\u{13091}',
    "D27a" => '\u{13092}',
    "D28" => '\u{13093}',
    "D29" => '\u{13094}',
    "D30" => '\u{13095}',
    "D31" => '\u{13096}',
    "D31a" => '\u{13097}',
    "D32" => '\u{13098}',
    "D33" => '\u{13099}',
    "D34" => '\u{1309A}',
    "D34a" => '\u{1309B}',
    "D35" => '\u{1309C}',
    "D36" => '\u{1309D}',
    "D37" => '\u{1309E}',
    "D38" => '\u{1309F}',
    "D39" => '\u{130A0}',
    "D40" => '\u{130A1}',
    "D41" => '\u{130A2}',
    "D42" => '\u{130A3}',
    "D43" => '\u{130A4}',
    "D44" => '\u{130A5}',
    "D45" => '\u{130A6}',
    "D46" => '\u{130A7}',
    "D46a" => '\u{130A8}',
    "D47" => '\u{130A9}',
    "D48" => '\u{130AA}',
    "D48a" => '\u{130AB}',
    "D49" => '\u{130AC}',
    "D50" => '\u{130AD}',
    "D50a" => '\u{130AE}',
    "D50b" => '\u{130AF}',
    "D50c" => '\u{130B0}',
    "D50d" => '\u{130B1}',
    "D50e" => '\u{130B2}',
    "D50f" => '\u{130B3}',
    "D50g" => '\u{130B4}',
    "D50h" => '\u{130B5}',
    "D50i" => '\u{130B6}',
    "D51" => '\u{130B7}',
    "D52" => '\u{130B8}',
    "D52a" => '\u{130B9}',
    "D53" => '\u{130BA}',
    "D54" => '\u{130BB}',
    "D54a" => '\u{130BC}',
    "D55" => '\u{130BD}',
    "D56" => '\u{130BE}',
    "D57" => '\u{130BF}',
    "D58" => '\u{130C0}',
    "D59" => '\u{130C1}',
    "D60" => '\u{130C2}',
    "D61" => '\u{130C3}',
    "D62" => '\u{130C4}',
    "D63" => '\u{130C5}',
    "D64" => '\u{130C6}',
    "D65" => '\u{130C7}',
    "D66" => '\u{130C8}',
    "D67" => '\u{130C9}',
    "D67a" => '\u{130CA}',
    "D67b" => '\u{130CB}',
    "D67c" => '\u{130CC}',
    "D67d" => '\u{130CD}',
    "D67e" => '\u{130CE}',
    "D67f" => '\u{130CF}',
    "D67g" => '\u{130D0}',
    "D67h" => '\u{130D1}',
    "E1" => '\u{130D2}',
    "E2" => '\u{130D3}',
    "E3" => '\u{130D4}',
    "E4" => '\u{130D5}',
    "E5" => '\u{130D6}',
    "E6" => '\u{130D7}',
    "E7" => '\u{130D8}',
    "E8" => '\u{130D9}',
    "E8a" => '\u{130DA}',
    "E9" => '\u{130DB}',
    "E9a" => '\u{130DC}',
    "E10" => '\u{130DD}',
    "E11" => '\u{130DE}',
    "E12" => '\u{130DF}',
    "E13" => '\u{130E0}',
    "E14" => '\u{130E1}',
    "E15" => '\u{130E2}',
    "E16" => '\u{130E3}',
    "E16a" => '\u{130E4}',
    "E17" => '\u{130E5}',
    "E17a" => '\u{130E6}',
    "E18" => '\u{130E7}',
    "E19" => '\u{130E8}',
    "E20" => '\u{130E9}',
    "E20a" => '\u{130EA}',
    "E21" => '\u{130EB}',
    "E22" => '\u{130EC}',
    "E23" => '\u{130ED}',
    "E24" => '\u{130EE}',
    "E25" => '\u{130EF}',
    "E26" => '\u{130F0}',
    "E27" => '\u{130F1}',
    "E28" => '\u{130F2}',
    "E28a" => '\u{130F3}',
    "E29" => '\u{130F4}',
    "E30" => '\u{130F5}',
    "E31" => '\u{130F6}',
    "E32" => '\u{130F7}',
    "E33" => '\u{130F8}',
    "E34" => '\u{130F9}',
    "E34a" => '\u{130FA}',
    "E36" => '\u{130FB}',
    "E37" => '\u{130FC}',
    "E38" => '\u{130FD}',
    "F1" => '\u{130FE}',
    "F1a" => '\u{130FF}',
    "F2" => '\u{13100}',
    "F3" => '\u{13101}',
    "F4" => '\u{13102}',
    "F5" => '\u{13103}',
    "F6" => '\u{13104}',
    "F7" => '\u{13105}',
    "F8" => '\u{13106}',
    "F9" => '\u{13107}',
    "F10" => '\u{13108}',
    "F11" => '\u{13109}',
    "F12" => '\u{1310A}',
    "F13" => '\u{1310B}',
    "F13a" => '\u{1310C}',
    "F14" => '\u{1310D}',
    "F15" => '\u{1310E}',
    "F16" => '\u{1310F}',
    "F17" => '\u{13110}',
    "F18" => '\u{13111}',
    "F19" => '\u{13112}',
    "F20" => '\u{13113}',
    "F21" => '\u{13114}',
    "F21a" => '\u{13115}',
    "F22" => '\u{13116}',
    "F23" => '\u{13117}',
    "F24" => '\u{13118}',
    "F25" => '\u{13119}',
    "F26" => '\u{1311A}',
    "F27" => '\u{1311B}',
    "F28" => '\u{1311C}',
    "F29" => '\u{1311D}',
    "F30" => '\u{1311E}',
    "F31" => '\u{1311F}',
    "F31a" => '\u{13120}',
    "F32" => '\u{13121}',
    "F33" => '\u{13122}',
    "F34" => '\u{13123}',
    "F35" => '\u{13124}',
    "F36" => '\u{13125}',
    "F37" => '\u{13126}',
    "F37a" => '\u{13127}',
    "F38" => '\u{13128}',
    "F38a" => '\u{13129}',
    "F39" => '\u{1312A}',
    "F40" => '\u{1312B}',
    "F41" => '\u{1312C}',
    "F42" => '\u{1312D}',
    "F43" => '\u{1312E}',
    "F44" => '\u{1312F}',
    "F45" => '\u{13130}',
    "F45a" => '\u{13131}',
    "F46" => '\u{13132}',
    "F46a" => '\u{13133}',
    "F47" => '\u{13134}',
    "F47a" => '\u{13135}',
    "F48" => '\u{13136}',
    "F49" => '\u{13137}',
    "F50" => '\u{13138}',
    "F51" => '\u{13139}',
    "F51a" => '\u{1313A}',
    "F51b" => '\u{1313B}',
    "F51c" => '\u{1313C}',
    "F52" => '\u{1313D}',
    "F53" => '\u{1313E}',
    "G1" => '\u{1313F}',
    "G2" => '\u{13140}',
    "G3" => '\u{13141}',
    "G4" => '\u{13142}',
    "G5" => '\u{13143}',
    "G6" => '\u{13144}',
    "G6a" => '\u{13145}',
    "G7" => '\u{13146}',
    "G7a" => '\u{13147}',
    "G7b" => '\u{13148}',
    "G8" => '\u{13149}',
    "G9" => '\u{1314A}',
    "G10" => '\u{1314B}',
    "G11" => '\u{1314C}',
    "G11a" => '\u{1314D}',
    "G12" => '\u{1314E}',
    "G13" => '\u{1314F}',
    "G14" => '\u{13150}',
    "G15" => '\u{13151}',
    "G16" => '\u{13152}',
    "G17" => '\u{13153}',
    "G18" => '\u{13154}',
    "G19" => '\u{13155}',
    "G20" => '\u{13156}',
    "G20a" => '\u{13157}',
    "G21" => '\u{13158}',
    "G22" => '\u{13159}',
    "G23" => '\u{1315A}',
    "G24" => '\u{1315B}',
    "G25" => '\u{1315C}',
    "G26" => '\u{1315D}',
    "G26a" => '\u{1315E}',
    "G27" => '\u{1315F}',
    "G28" => '\u{13160}',
    "G29" => '\u{13161}',
    "G30" => '\u{13162}',
    "G31" => '\u{13163}',
    "G32" => '\u{13164}',
    "G33" => '\u{13165}',
    "G34" => '\u{13166}',
    "G35" => '\u{13167}',
    "G36" => '\u{13168}',
    "G36a" => '\u{13169}',
    "G37" => '\u{1316A}',
    "G37a" => '\u{1316B}',
    "G38" => '\u{1316C}',
    "G39" => '\u{1316D}',
    "G40" => '\u{1316E}',
    "G41" => '\u{1316F}',
    "G42" => '\u{13170}',
    "G43" => '\u{13171}',
    "G43a" => '\u{13172}',
    "G44" => '\u{13173}',
    "G45" => '\u{13174}',
    "G45a" => '\u{13175}',
    "G46" => '\u{13176}',
    "G47" => '\u{13177}',
    "G48" => '\u{13178}',
    "G49" => '\u{13179}',
    "G50" => '\u{1317A}',
    "G51" => '\u{1317B}',
    "G52" => '\u{1317C}',
    "G53" => '\u{1317D}',
    "G54" => '\u{1317E}',
    "H1" => '\u{1317F}',
    "H2" => '\u{13180}',
    "H3" => '\u{13181}',
    "H4" => '\u{13182}',
    "H5" => '\u{13183}',
    "H6" => '\u{13184}',
    "H6a" => '\u{13185}',
    "H7" => '\u{13186}',
    "H8" => '\u{13187}',
    "I1" => '\u{13188}',
    "I2" => '\u{13189}',
    "I3" => '\u{1318A}',
    "I4" => '\u{1318B}',
    "I5" => '\u{1318C}',
    "I5a" => '\u{1318D}',
    "I6" => '\u{1318E}',
    "I7" => '\u{1318F}',
    "I8" => '\u{13190}',
    "I9" => '\u{13191}',
    "I9a" => '\u{13192}',
    "I10" => '\u{13193}',
    "I10a" => '\u{13194}',
    "I11" => '\u{13195}',
    "I11a" => '\u{13196}',
    "I12" => '\u{13197}',
    "I13" => '\u{13198}',
    "I14" => '\u{13199}',
    "I15" => '\u{1319A}',
    "K1" => '\u{1319B}',
    "K2" => '\u{1319C}',
    "K3" => '\u{1319D}',
    "K4" => '\u{1319E}',
    "K5" => '\u{1319F}',
    "K6" => '\u{131A0}',
    "K7" => '\u{131A1}',
    "K8" => '\u{131A2}',
    "L1" => '\u{131A3}',
    "L2" => '\u{131A4}',
    "L2a" => '\u{131A5}',
    "L3" => '\u{131A6}',
    "L4" => '\u{131A7}',
    "L5" => '\u{131A8}',
    "L6" => '\u{131A9}',
    "L6a" => '\u{131AA}',
    "L7" => '\u{131AB}',
    "L8" => '\u{131AC}',
    "M1" => '\u{131AD}',
    "M1a" => '\u{131AE}',
    "M1b" => '\u{131AF}',
    "M2" => '\u{131B0}',
    "M3" => '\u{131B1}',
    "M3a" => '\u{131B2}',
    "M4" => '\u{131B3}',
    "M5" => '\u{131B4}',
    "M6" => '\u{131B5}',
    "M7" => '\u{131B6}',
    "M8" => '\u{131B7}',
    "M9" => '\u{131B8}',
    "M10" => '\u{131B9}',
    "M10a" => '\u{131BA}',
    "M11" => '\u{131BB}',
    "M12" => '\u{131BC}',
    "M12a" => '\u{131BD}',
    "M12b" => '\u{131BE}',
    "M12c" => '\u{131BF}',
    "M12d" => '\u{131C0}',
    "M12e" => '\u{131C1}',
    "M12f" => '\u{131C2}',
    "M12g" => '\u{131C3}',
    "M12h" => '\u{131C4}',
    "M13" => '\u{131C5}',
    "M14" => '\u{131C6}',
    "M15" => '\u{131C7}',
    "M15a" => '\u{131C8}',
    "M16" => '\u{131C9}',
    "M16a" => '\u{131CA}',
    "M17" => '\u{131CB}',
    "M17a" => '\u{131CC}',
    "M18" => '\u{131CD}',
    "M19" => '\u{131CE}',
    "M20" => '\u{131CF}',
    "M21" => '\u{131D0}',
    "M22" => '\u{131D1}',
    "M22a" => '\u{131D2}',
    "M23" => '\u{131D3}',
    "M24" => '\u{131D4}',
    "M24a" => '\u{131D5}',
    "M25" => '\u{131D6}',
    "M26" => '\u{131D7}',
    "M27" => '\u{131D8}',
    "M28" => '\u{131D9}',
    "M28a" => '\u{131DA}',
    "M29" => '\u{131DB}',
    "M30" => '\u{131DC}',
    "M31" => '\u{131DD}',
    "M31a" => '\u{131DE}',
    "M32" => '\u{131DF}',
    "M33" => '\u{131E0}',
    "M33a" => '\u{131E1}',
    "M33b" => '\u{131E2}',
    "M34" => '\u{131E3}',
    "M35" => '\u{131E4}',
    "M36" => '\u{131E5}',
    "M37" => '\u{131E6}',
    "M38" => '\u{131E7}',
    "M39" => '\u{131E8}',
    "M40" => '\u{131E9}',
    "M40a" => '\u{131EA}',
    "M41" => '\u{131EB}',
    "M42" => '\u{131EC}',
    "M43" => '\u{131ED}',
    "M44" => '\u{131EE}',
    "N1" => '\u{131EF}',
    "N2" => '\u{131F0}',
    "N3" => '\u{131F1}',
    "N4" => '\u{131F2}',
    "N5" => '\u{131F3}',
    "N6" => '\u{131F4}',
    "N7" => '\u{131F5}',
    "N8" => '\u{131F6}',
    "N9" => '\u{131F7}',
    "N10" => '\u{131F8}',
    "N11" => '\u{131F9}',
    "N12" => '\u{131FA}',
    "N13" => '\u{131FB}',
    "N14" => '\u{131FC}',
    "N15" => '\u{131FD}',
    "N16" => '\u{131FE}',
    "N17" => '\u{131FF}',
    "N18" => '\u{13200}',
    "N18a" => '\u{13201}',
    "N18b" => '\u{13202}',
    "N19" => '\u{13203}',
    "N20" => '\u{13204}',
    "N21" => '\u{13205}',
    "N22" => '\u{13206}',
    "N23" => '\u{13207}',
    "N24" => '\u{13208}',
    "N25" => '\u{13209}',
    "N25a" => '\u{1320A}',
    "N26" => '\u{1320B}',
    "N27" => '\u{1320C}',
    "N28" => '\u{1320D}',
    "N29" => '\u{1320E}',
    "N30" => '\u{1320F}',
    "N31" => '\u{13210}',
    "N32" => '\u{13211}',
    "N33" => '\u{13212}',
    "N33a" => '\u{13213}',
    "N34" => '\u{13214}',
    "N34a" => '\u{13215}',
    "N35" => '\u{13216}',
    "N35a" => '\u{13217}',
    "N36" => '\u{13218}',
    "N37" => '\u{13219}',
    "N37a" => '\u{1321A}',
    "N38" => '\u{1321B}',
    "N39" => '\u{1321C}',
    "N40" => '\u{1321D}',
    "N41" => '\u{1321E}',
    "N42" => '\u{1321F}',
    "NL1" => '\u{13220}',
    "NL2" => '\u{13221}',
    "NL3" => '\u{13222}',
    "NL4" => '\u{13223}',
    "NL5" => '\u{13224}',
    "NL5a" => '\u{13225}',
    "NL6" => '\u{13226}',
    "NL7" => '\u{13227}',
    "NL8" => '\u{13228}',
    "NL9" => '\u{13229}',
    "NL10" => '\u{1322A}',
    "NL11" => '\u{1322B}',
    "NL12" => '\u{1322C}',
    "NL13" => '\u{1322D}',
    "NL14" => '\u{1322E}',
    "NL15" => '\u{1322F}',
    "NL16" => '\u{13230}',
    "NL17" => '\u{13231}',
    "NL17a" => '\u{13232}',
    "NL18" => '\u{13233}',
    "NL19" => '\u{13234}',
    "NL20" => '\u{13235}',
    "NU1" => '\u{13236}',
    "NU2" => '\u{13237}',
    "NU3" => '\u{13238}',
    "NU4" => '\u{13239}',
    "NU5" => '\u{1323A}',
    "NU6" => '\u{1323B}',
    "NU7" => '\u{1323C}',
    "NU8" => '\u{1323D}',
    "NU9" => '\u{1323E}',
    "NU10" => '\u{1323F}',
    "NU10a" => '\u{13240}',
    "NU11" => '\u{13241}',
    "NU11a" => '\u{13242}',
    "NU12" => '\u{13243}',
    "NU13" => '\u{13244}',
    "NU14" => '\u{13245}',
    "NU15" => '\u{13246}',
    "NU16" => '\u{13247}',
    "NU17" => '\u{13248}',
    "NU18" => '\u{13249}',
    "NU18a" => '\u{1324A}',
    "NU19" => '\u{1324B}',
    "NU20" => '\u{1324C}',
    "NU21" => '\u{1324D}',
    "NU22" => '\u{1324E}',
    "NU22a" => '\u{1324F}',
    "O1" => '\u{13250}',
    "O1a" => '\u{13251}',
    "O2" => '\u{13252}',
    "O3" => '\u{13253}',
    "O4" => '\u{13254}',
    "O5" => '\u{13255}',
    "O5a" => '\u{13256}',
    "O6" => '\u{13257}',
    "O7" => '\u{1325E}',
    "O8" => '\u{1325F}',
    "O9" => '\u{13260}',
    "O10" => '\u{13261}',
    "O10a" => '\u{13262}',
    "O10b" => '\u{13263}',
    "O10c" => '\u{13264}',
    "O11" => '\u{13265}',
    "O12" => '\u{13266}',
    "O13" => '\u{13267}',
    "O14" => '\u{13268}',
    "O15" => '\u{13269}',
    "O16" => '\u{1326A}',
    "O17" => '\u{1326B}',
    "O18" => '\u{1326C}',
    "O19" => '\u{1326D}',
    "O19a" => '\u{1326E}',
    "O20" => '\u{1326F}',
    "O20a" => '\u{13270}',
    "O21" => '\u{13271}',
    "O22" => '\u{13272}',
    "O23" => '\u{13273}',
    "O24" => '\u{13274}',
    "O24a" => '\u{13275}',
    "O25" => '\u{13276}',
    "O25a" => '\u{13277}',
    "O26" => '\u{13278}',
    "O27" => '\u{13279}',
    "O28" => '\u{1327A}',
    "O29" => '\u{1327B}',
    "O29a" => '\u{1327C}',
    "O30" => '\u{1327D}',
    "O30a" => '\u{1327E}',
    "O31" => '\u{1327F}',
    "O32" => '\u{13280}',
    "O33" => '\u{13281}',
    "O34" => '\u{13283}',
    "O35" => '\u{13284}',
    "O36" => '\u{13285}',
    "O37" => '\u{1328A}',
    "O38" => '\u{1328B}',
    "O39" => '\u{1328C}',
    "O40" => '\u{1328D}',
    "O41" => '\u{1328E}',
    "O42" => '\u{1328F}',
    "O43" => '\u{13290}',
    "O44" => '\u{13291}',
    "O45" => '\u{13292}',
    "O46" => '\u{13293}',
    "O47" => '\u{13294}',
    "O48" => '\u{13295}',
    "O49" => '\u{13296}',
    "O50" => '\u{13297}',
    "O50a" => '\u{13298}',
    "O50b" => '\u{13299}',
    "O51" => '\u{1329A}',
    "P1" => '\u{1329B}',
    "P1a" => '\u{1329C}',
    "P2" => '\u{1329D}',
    "P3" => '\u{1329E}',
    "P3a" => '\u{1329F}',
    "P4" => '\u{132A0}',
    "P5" => '\u{132A1}',
    "P6" => '\u{132A2}',
    "P7" => '\u{132A3}',
    "P8" => '\u{132A4}',
    "P9" => '\u{132A5}',
    "P10" => '\u{132A6}',
    "P11" => '\u{132A7}',
    "Q1" => '\u{132A8}',
    "Q2" => '\u{132A9}',
    "Q3" => '\u{132AA}',
    "Q4" => '\u{132AB}',
    "Q5" => '\u{132AC}',
    "Q6" => '\u{132AD}',
    "Q7" => '\u{132AE}',
    "R1" => '\u{132AF}',
    "R2" => '\u{132B0}',
    "R2a" => '\u{132B1}',
    "R3" => '\u{132B2}',
    "R3a" => '\u{132B3}',
    "R3b" => '\u{132B4}',
    "R4" => '\u{132B5}',
    "R5" => '\u{132B6}',
    "R6" => '\u{132B7}',
    "R7" => '\u{132B8}',
    "R8" => '\u{132B9}',
    "R9" => '\u{132BA}',
    "R10" => '\u{132BB}',
    "R10a" => '\u{132BC}',
    "R11" => '\u{132BD}',
    "R12" => '\u{132BE}',
    "R13" => '\u{132BF}',
    "R14" => '\u{132C0}',
    "R15" => '\u{132C1}',
    "R16" => '\u{132C2}',
    "R16a" => '\u{132C3}',
    "R17" => '\u{132C4}',
    "R18" => '\u{132C5}',
    "R19" => '\u{132C6}',
    "R20" => '\u{132C7}',
    "R21" => '\u{132C8}',
    "R22" => '\u{132C9}',
    "R23" => '\u{132CA}',
    "R24" => '\u{132CB}',
    "R25" => '\u{132CC}',
    "R26" => '\u{132CD}',
    "R27" => '\u{132CE}',
    "R28" => '\u{132CF}',
    "R29" => '\u{132D0}',
    "S1" => '\u{132D1}',
    "S2" => '\u{132D2}',
    "S2a" => '\u{132D3}',
    "S3" => '\u{132D4}',
    "S4" => '\u{132D5}',
    "S5" => '\u{132D6}',
    "S6" => '\u{132D7}',
    "S6a" => '\u{132D8}',
    "S7" => '\u{132D9}',
    "S8" => '\u{132DA}',
    "S9" => '\u{132DB}',
    "S10" => '\u{132DC}',
    "S11" => '\u{132DD}',
    "S12" => '\u{132DE}',
    "S13" => '\u{132DF}',
    "S14" => '\u{132E0}',
    "S14a" => '\u{132E1}',
    "S14b" => '\u{132E2}',
    "S15" => '\u{132E3}',
    "S16" => '\u{132E4}',
    "S17" => '\u{132E5}',
    "S17a" => '\u{132E6}',
    "S18" => '\u{132E7}',
    "S19" => '\u{132E8}',
    "S20" => '\u{132E9}',
    "S21" => '\u{132EA}',
    "S22" => '\u{132EB}',
    "S23" => '\u{132EC}',
    "S24" => '\u{132ED}',
    "S25" => '\u{132EE}',
    "S26" => '\u{132EF}',
    "S26a" => '\u{132F0}',
    "S26b" => '\u{132F1}',
    "S27" => '\u{132F2}',
    "S28" => '\u{132F3}',
    "S29" => '\u{132F4}',
    "S30" => '\u{132F5}',
    "S31" => '\u{132F6}',
    "S32" => '\u{132F7}',
    "S33" => '\u{132F8}',
    "S34" => '\u{132F9}',
    "S35" => '\u{132FA}',
    "S35a" => '\u{132FB}',
    "S36" => '\u{132FC}',
    "S37" => '\u{132FD}',
    "S38" => '\u{132FE}',
    "S39" => '\u{132FF}',
    "S40" => '\u{13300}',
    "S41" => '\u{13301}',
    "S42" => '\u{13302}',
    "S43" => '\u{13303}',
    "S44" => '\u{13304}',
    "S45" => '\u{13305}',
    "S46" => '\u{13306}',
    "T1" => '\u{13307}',
    "T2" => '\u{13308}',
    "T3" => '\u{13309}',
    "T3a" => '\u{1330A}',
    "T4" => '\u{1330B}',
    "T5" => '\u{1330C}',
    "T6" => '\u{1330D}',
    "T7" => '\u{1330E}',
    "T7a" => '\u{1330F}',
    "T8" => '\u{13310}',
    "T8a" => '\u{13311}',
    "T9" => '\u{13312}',
    "T9a" => '\u{13313}',
    "T10" => '\u{13314}',
    "T11" => '\u{13315}',
    "T11a" => '\u{13316}',
    "T12" => '\u{13317}',
    "T13" => '\u{13318}',
    "T14" => '\u{13319}',
    "T15" => '\u{1331A}',
    "T16" => '\u{1331B}',
    "T16a" => '\u{1331C}',
    "T17" => '\u{1331D}',
    "T18" => '\u{1331E}',
    "T19" => '\u{1331F}',
    "T20" => '\u{13320}',
    "T21" => '\u{13321}',
    "T22" => '\u{13322}',
    "T23" => '\u{13323}',
    "T24" => '\u{13324}',
    "T25" => '\u{13325}',
    "T26" => '\u{13326}',
    "T27" => '\u{13327}',
    "T28" => '\u{13328}',
    "T29" => '\u{13329}',
    "T30" => '\u{1332A}',
    "T31" => '\u{1332B}',
    "T32" => '\u{1332C}',
    "T32a" => '\u{1332D}',
    "T33" => '\u{1332E}',
    "T33a" => '\u{1332F}',
    "T34" => '\u{13330}',
    "T35" => '\u{13331}',
    "T36" => '\u{13332}',
    "U1" => '\u{13333}',
    "U2" => '\u{13334}',
    "U3" => '\u{13335}',
    "U4" => '\u{13336}',
    "U5" => '\u{13337}',
    "U6" => '\u{13338}',
    "U6a" => '\u{13339}',
    "U6b" => '\u{1333A}',
    "U7" => '\u{1333B}',
    "U8" => '\u{1333C}',
    "U9" => '\u{1333D}',
    "U10" => '\u{1333E}',
    "U11" => '\u{1333F}',
    "U12" => '\u{13340}',
    "U13" => '\u{13341}',
    "U14" => '\u{13342}',
    "U15" => '\u{13343}',
    "U16" => '\u{13344}',
    "U17" => '\u{13345}',
    "U18" => '\u{13346}',
    "U19" => '\u{13347}',
    "U20" => '\u{13348}',
    "U21" => '\u{13349}',
    "U22" => '\u{1334A}',
    "U23" => '\u{1334B}',
    "U23a" => '\u{1334C}',
    "U24" => '\u{1334D}',
    "U25" => '\u{1334E}',
    "U26" => '\u{1334F}',
    "U27" => '\u{13350}',
    "U28" => '\u{13351}',
    "U29" => '\u{13352}',
    "U29a" => '\u{13353}',
    "U30" => '\u{13354}',
    "U31" => '\u{13355}',
    "U32" => '\u{13356}',
    "U32a" => '\u{13357}',
    "U33" => '\u{13358}',
    "U34" => '\u{13359}',
    "U35" => '\u{1335A}',
    "U36" => '\u{1335B}',
    "U37" => '\u{1335C}',
    "U38" => '\u{1335D}',
    "U39" => '\u{1335E}',
    "U40" => '\u{1335F}',
    "U41" => '\u{13360}',
    "U42" => '\u{13361}',
    "V1" => '\u{13362}',
    "V1a" => '\u{13363}',
    "V1b" => '\u{13364}',
    "V1c" => '\u{13365}',
    "V1d" => '\u{13366}',
    "V1e" => '\u{13367}',
    "V1f" => '\u{13368}',
    "V1g" => '\u{13369}',
    "V1h" => '\u{1336A}',
    "V1i" => '\u{1336B}',
    "V2" => '\u{1336C}',
    "V2a" => '\u{1336D}',
    "V3" => '\u{1336E}',
    "V4" => '\u{1336F}',
    "V5" => '\u{13370}',
    "V6" => '\u{13371}',
    "V7" => '\u{13372}',
    "V7a" => '\u{13373}',
    "V7b" => '\u{13374}',
    "V8" => '\u{13375}',
    "V9" => '\u{13376}',
    "V10" => '\u{13377}',
    "V11" => '\u{13378}',
    "V12" => '\u{1337C}',
    "V12a" => '\u{1337D}',
    "V12b" => '\u{1337E}',
    "V13" => '\u{1337F}',
    "V14" => '\u{13380}',
    "V15" => '\u{13381}',
    "V16" => '\u{13382}',
    "V17" => '\u{13383}',
    "V18" => '\u{13384}',
    "V19" => '\u{13385}',
    "V20" => '\u{13386}',
    "V20a" => '\u{13387}',
    "V20b" => '\u{13388}',
    "V20c" => '\u{13389}',
    "V20d" => '\u{1338A}',
    "V20e" => '\u{1338B}',
    "V20f" => '\u{1338C}',
    "V20g" => '\u{1338D}',
    "V20h" => '\u{1338E}',
    "V20i" => '\u{1338F}',
    "V20j" => '\u{13390}',
    "V20k" => '\u{13391}',
    "V20l" => '\u{13392}',
    "V21" => '\u{13393}',
    "V22" => '\u{13394}',
    "V23" => '\u{13395}',
    "V23a" => '\u{13396}',
    "V24" => '\u{13397}',
    "V25" => '\u{13398}',
    "V26" => '\u{13399}',
    "V27" => '\u{1339A}',
    "V28" => '\u{1339B}',
    "V28a" => '\u{1339C}',
    "V29" => '\u{1339D}',
    "V29a" => '\u{1339E}',
    "V30" => '\u{1339F}',
    "V30a" => '\u{133A0}',
    "V31" => '\u{133A1}',
    "V31a" => '\u{133A2}',
    "V32" => '\u{133A3}',
    "V33" => '\u{133A4}',
    "V33a" => '\u{133A5}',
    "V34" => '\u{133A6}',
    "V35" => '\u{133A7}',
    "V36" => '\u{133A8}',
    "V37" => '\u{133A9}',
    "V37a" => '\u{133AA}',
    "V38" => '\u{133AB}',
    "V39" => '\u{133AC}',
    "V40" => '\u{133AD}',
    "V40a" => '\u{133AE}',
    "W1" => '\u{133AF}',
    "W2" => '\u{133B0}',
    "W3" => '\u{133B1}',
    "W3a" => '\u{133B2}',
    "W4" => '\u{133B3}',
    "W5" => '\u{133B4}',
    "W6" => '\u{133B5}',
    "W7" => '\u{133B6}',
    "W8" => '\u{133B7}',
    "W9" => '\u{133B8}',
    "W9a" => '\u{133B9}',
    "W10" => '\u{133BA}',
    "W10a" => '\u{133BB}',
    "W11" => '\u{133BC}',
    "W12" => '\u{133BD}',
    "W13" => '\u{133BE}',
    "W14" => '\u{133BF}',
    "W14a" => '\u{133C0}',
    "W15" => '\u{133C1}',
    "W16" => '\u{133C2}',
    "W17" => '\u{133C3}',
    "W17a" => '\u{133C4}',
    "W18" => '\u{133C5}',
    "W18a" => '\u{133C6}',
    "W19" => '\u{133C7}',
    "W20" => '\u{133C8}',
    "W21" => '\u{133C9}',
    "W22" => '\u{133CA}',
    "W23" => '\u{133CB}',
    "W24" => '\u{133CC}',
    "W24a" => '\u{133CD}',
    "W25" => '\u{133CE}',
    "X1" => '\u{133CF}',
    "X2" => '\u{133D0}',
    "X3" => '\u{133D1}',
    "X4" => '\u{133D2}',
    "X4a" => '\u{133D3}',
    "X4b" => '\u{133D4}',
    "X5" => '\u{133D5}',
    "X6" => '\u{133D6}',
    "X6a" => '\u{133D7}',
    "X7" => '\u{133D8}',
    "X8" => '\u{133D9}',
    "X8a" => '\u{133DA}',
    "Y1" => '\u{133DB}',
    "Y1a" => '\u{133DC}',
    "Y2" => '\u{133DD}',
    "Y3" => '\u{133DE}',
    "Y4" => '\u{133DF}',
    "Y5" => '\u{133E0}',
    "Y6" => '\u{133E1}',
    "Y7" => '\u{133E2}',
    "Y8" => '\u{133E3}',
    "Z1" => '\u{133E4}',
    "Z2" => '\u{133E5}',
    "Z2a" => '\u{133E6}',
    "Z2b" => '\u{133E7}',
    "Z2c" => '\u{133E8}',
    "Z2d" => '\u{133E9}',
    "Z3" => '\u{133EA}',
    "Z3a" => '\u{133EB}',
    "Z3b" => '\u{133EC}',
    "Z4" => '\u{133ED}',
    "Z4a" => '\u{133EE}',
    "Z5" => '\u{133EF}',
    "Z5a" => '\u{133F0}',
    "Z6" => '\u{133F1}',
    "Z7" => '\u{133F2}',
    "Z8" => '\u{133F3}',
    "Z9" => '\u{133F4}',
    "Z10" => '\u{133F5}',
    "Z11" => '\u{133F6}',
    "Z12" => '\u{133F7}',
    "Z13" => '\u{133F8}',
    "Z14" => '\u{133F9}',
    "Z15" => '\u{133FA}',
    "Z15a" => '\u{133FB}',
    "Z15b" => '\u{133FC}',
    "Z15c" => '\u{133FD}',
    "Z15d" => '\u{133FE}',
    "Z15e" => '\u{133FF}',
    "Z15f" => '\u{13400}',
    "Z15g" => '\u{13401}',
    "Z15h" => '\u{13402}',
    "Z15i" => '\u{13403}',
    "Z16" => '\u{13404}',
    "Z16a" => '\u{13405}',
    "Z16b" => '\u{13406}',
    "Z16c" => '\u{13407}',
    "Z16d" => '\u{13408}',
    "Z16e" => '\u{13409}',
    "Z16f" => '\u{1340A}',
    "Z16g" => '\u{1340B}',
    "Z16h" => '\u{1340C}',
    "Aa1" => '\u{1340D}',
    "Aa2" => '\u{1340E}',
    "Aa3" => '\u{1340F}',
    "Aa4" => '\u{13410}',
    "Aa5" => '\u{13411}',
    "Aa6" => '\u{13412}',
    "Aa7" => '\u{13413}',
    "Aa7a" => '\u{13414}',
    "Aa7b" => '\u{13415}',
    "Aa8" => '\u{13416}',
    "Aa9" => '\u{13417}',
    "Aa10" => '\u{13418}',
    "Aa11" => '\u{13419}',
    "Aa12" => '\u{1341A}',
    "Aa13" => '\u{1341B}',
    "Aa14" => '\u{1341C}',
    "Aa15" => '\u{1341D}',
    "Aa16" => '\u{1341E}',
    "Aa17" => '\u{1341F}',
    "Aa18" => '\u{13420}',
    "Aa19" => '\u{13421}',
    "Aa20" => '\u{13422}',
    "Aa21" => '\u{13423}',
    "Aa22" => '\u{13424}',
    "Aa23" => '\u{13425}',
    "Aa24" => '\u{13426}',
    "Aa25" => '\u{13427}',
    "Aa26" => '\u{13428}',
    "Aa27" => '\u{13429}',
    "Aa28" => '\u{1342A}',
    "Aa29" => '\u{1342B}',
    "Aa30" => '\u{1342C}',
    "Aa31" => '\u{1342D}',
    "Aa32" => '\u{1342E}'
};

static UNI_OPENS: phf::Map<&'static str, char> = phf_map! {
    "O6a" => '\u{13258}',
    "O6b" => '\u{13259}',
    "O6c" => '\u{1325A}',
    "O36a" => '\u{13286}',
    "O36c" => '\u{13288}',
    "V11a" => '\u{13379}',
    "V11d" => '\u{1342F}'
};

static UNI_CLOSES: phf::Map<&'static str, char> = phf_map! {
    "O6d" => '\u{1325B}',
    "O6e" => '\u{1325C}',
    "O6f" => '\u{1325D}',
    "O33a" => '\u{13282}',
    "O36b" => '\u{13287}',
    "O36d" => '\u{13289}',
    "V11b" => '\u{1337A}',
    "V11c" => '\u{1337B}'
};

static UNI_CONTROLS: phf::Map<&'static str, char> = phf_map! {
    ":" => '\u{13430}',
    "*" => '\u{13431}',
    "^st" => '\u{13432}',
    "^sb" => '\u{13433}',
    "^et" => '\u{13434}',
    "^eb" => '\u{13435}',
    "+" => '\u{13436}',
    "(" => '\u{13437}',
    ")" => '\u{13438}'
};

static UNI_MNEMONICS: phf::Map<&'static str, &'static str> = phf_map! {
    "mSa" => "A12",
    "xr" => "A15",
    "Xrd" => "A17",
    "sr" => "A21",
    "mniw" => "A33",
    "qiz" => "A38",
    "iry" => "A47",
    "Sps" => "A50",
    "Spsi" => "A51",
    "msi" => "B3",
    "DHwty" => "C3",
    "Xnmw" => "C4",
    "inpw" => "C6",
    "stX" => "C7",
    "mnw" => "C8",
    "mAat" => "C10",
    "HH" => "C11",
    "tp" => "D1",
    "Hr" => "D2",
    "Sny" => "D3",
    "ir" => "D4",
    "rmi" => "D9",
    "wDAt" => "D10",
    "fnD" => "D19",
    "r" => "D21",
    "rA" => "D21",
    "spt" => "D24",
    "spty" => "D25",
    "mnD" => "D27",
    "kA" => "D28",
    "aHA" => "D34",
    "a" => "D36",
    "Dsr" => "D45",
    "d" => "D46",
    "Dba" => "D50",
    "mt" => "D52",
    "rd" => "D56",
    "sbq" => "D56",
    "gH" => "D56",
    "gHs" => "D56",
    "b" => "D58",
    "ab" => "D59",
    "wab" => "D60",
    "sAH" => "D61",
    "zzmt" => "E6",
    "zAb" => "E17",
    "mAi" => "E22",
    "l" => "E23",
    "rw" => "E23",
    "Aby" => "E24",
    "wn" => "E34",
    "HAt" => "F4",
    "SsA" => "F5",
    "wsr" => "F12",
    "wp" => "F13",
    "db" => "F16",
    "Hw" => "F18",
    "bH" => "F18",
    "ns" => "F20",
    "idn" => "F21",
    "msDr" => "F21",
    "sDm" => "F21",
    "DrD" => "F21",
    "pH" => "F22",
    "kfA" => "F22",
    "xpS" => "F23",
    "wHm" => "F25",
    "Xn" => "F26",
    "sti" => "F29",
    "Sd" => "F30",
    "ms" => "F31",
    "X" => "F32",
    "sd" => "F33",
    "ib" => "F34",
    "nfr" => "F35",
    "zmA" => "F36",
    "imAx" => "F39",
    "Aw" => "F40",
    "spr" => "F42",
    "iwa" => "F44",
    "isw" => "F44",
    "pXr" => "F46",
    "qAb" => "F46",
    "A" => "G1",
    "AA" => "G2",
    "tyw" => "G4",
    "mwt" => "G14",
    "nbty" => "G16",
    "m" => "G17",
    "mm" => "G18",
    "nH" => "G21",
    "Db" => "G22",
    "rxyt" => "G23",
    "Ax" => "G25",
    "dSr" => "G27",
    "gm" => "G28",
    "bA" => "G29",
    "baHi" => "G32",
    "aq" => "G35",
    "wr" => "G36",
    "gb" => "G38",
    "zA" => "G39",
    "pA" => "G40",
    "xn" => "G41",
    "wSA" => "G42",
    "w" => "G43",
    "ww" => "G44",
    "mAw" => "G46",
    "TA" => "G47",
    "snD" => "G54",
    "wSm" => "H2",
    "pq" => "H2",
    "pAq" => "H3",
    "nr" => "H4",
    "Sw" => "H6",
    "aSA" => "I1",
    "Styw" => "I2",
    "mzH" => "I3",
    "sbk" => "I4",
    "sAq" => "I5",
    "km" => "I6",
    "Hfn" => "I8",
    "f" => "I9",
    "D" => "I10",
    "DD" => "I11",
    "in" => "K1",
    "ad" => "K3",
    "XA" => "K4",
    "bz" => "K5",
    "nSmt" => "K6",
    "xpr" => "L1",
    "bit" => "L2",
    "srqt" => "L7",
    "iAm" => "M1",
    "Hn" => "M2",
    "xt" => "M3",
    "rnp" => "M4",
    "tr" => "M6",
    "SA" => "M8",
    "zSn" => "M9",
    "wdn" => "M11",
    "xA" => "M12",
    "wAD" => "M13",
    "HA" => "M16",
    "i" => "M17",
    "ii" => "M18",
    "sxt" => "M20",
    "sm" => "M21",
    "sw" => "M23",
    "rsw" => "M24",
    "Sma" => "M26",
    "nDm" => "M29",
    "bnr" => "M30",
    "bdt" => "M34",
    "Dr" => "M36",
    "iz" => "M40",
    "pt" => "N1",
    "iAdt" => "N4",
    "idt" => "N4",
    "ra" => "N5",
    "zw" => "N5",
    "hrw" => "N5",
    "Hnmmt" => "N8",
    "pzD" => "N9",
    "Abd" => "N11",
    "iaH" => "N11",
    "sbA" => "N14",
    "dwA" => "N14",
    "dwAt" => "N15",
    "tA" => "N16",
    "iw" => "N18",
    "wDb" => "N20",
    "spAt" => "N24",
    "xAst" => "N25",
    "Dw" => "N26",
    "Axt" => "N27",
    "xa" => "N28",
    "q" => "N29",
    "iAt" => "N30",
    "n" => "N35",
    "mw" => "N35a",
    "S" => "N37",
    "Sm" => "N40",
    "id" => "N41",
    "pr" => "O1",
    "h" => "O4",
    "Hwt" => "O6",
    "aH" => "O11",
    "wsxt" => "O15",
    "kAr" => "O18",
    "zH" => "O22",
    "txn" => "O25",
    "iwn" => "O28",
    "aA" => "O29",
    "zxnt" => "O30",
    "z" => "O34",
    "zb" => "O35",
    "inb" => "O36",
    "Szp" => "O42",
    "ipt" => "O45",
    "nxn" => "O47",
    "niwt" => "O49",
    "zp" => "O50",
    "Snwt" => "O51",
    "wHa" => "P4",
    "nfw" => "P5",
    "TAw" => "P5",
    "aHa" => "P6",
    "xrw" => "P8",
    "st" => "Q1",
    "wz" => "Q2",
    "p" => "Q3",
    "qrsw" => "Q6",
    "xAwt" => "R1",
    "xAt" => "R1",
    "Htp" => "R4",
    "kAp" => "R5",
    "kp" => "R5",
    "snTr" => "R7",
    "nTr" => "R8",
    "bd" => "R9",
    "dd" => "R11",
    "Dd" => "R11",
    "imnt" => "R14",
    "iAb" => "R15",
    "wx" => "R16",
    "xm" => "R22",
    "HDt" => "S1",
    "dSrt" => "S3",
    "N" => "S3",
    "sxmty" => "S6",
    "xprS" => "S7",
    "Atf" => "S8",
    "Swty" => "S9",
    "mDH" => "S10",
    "wsx" => "S11",
    "nbw" => "S12",
    "tHn" => "S15",
    "THn" => "S15",
    "mnit" => "S18",
    "sDAw" => "S19",
    "xtm" => "S20",
    "sT" => "S22",
    "dmD" => "S23",
    "Tz" => "S24",
    "Sndyt" => "S26",
    "mnxt" => "S27",
    "s" => "S29",
    "sf" => "S30",
    "siA" => "S32",
    "Tb" => "S33",
    "anx" => "S34",
    "Swt" => "S35",
    "xw" => "S37",
    "HqA" => "S38",
    "awt" => "S39",
    "wAs" => "S40",
    "Dam" => "S41",
    "abA" => "S42",
    "xrp" => "S42",
    "sxm" => "S42",
    "md" => "S43",
    "Ams" => "S44",
    "nxxw" => "S45",
    "HD" => "T3",
    "HDD" => "T6",
    "pd" => "T9",
    "pD" => "T10",
    "zin" => "T11",
    "zwn" => "T11",
    "sXr" => "T11",
    "Ai" => "T12",
    "Ar" => "T12",
    "rwd" => "T12",
    "rwD" => "T12",
    "rs" => "T13",
    "qmA" => "T14",
    "wrrt" => "T17",
    "Sms" => "T18",
    "qs" => "T19",
    "sn" => "T22",
    "iH" => "T24",
    "DbA" => "T25",
    "Xr" => "T28",
    "nmt" => "T29",
    "sSm" => "T31",
    "nm" => "T34",
    "mA" => "U1",
    "mr" => "U6",
    "it" => "U10",
    "HqAt" => "U11",
    "hb" => "U13",
    "Sna" => "U13",
    "tm" => "U15",
    "biA" => "U16",
    "grg" => "U17",
    "stp" => "U21",
    "mnx" => "U22",
    "Ab" => "U23",
    "Hmt" => "U24",
    "wbA" => "U26",
    "DA" => "U28",
    "rtH" => "U31",
    "zmn" => "U32",
    "ti" => "U33",
    "xsf" => "U34",
    "Hm" => "U36",
    "mxAt" => "U38",
    "100" => "V1",
    "sTA" => "V2",
    "sTAw" => "V3",
    "wA" => "V4",
    "snT" => "V5",
    "Ss" => "V6",
    "Sn" => "V7",
    "arq" => "V12",
    "T" => "V13",
    "iTi" => "V15",
    "mDt" => "V19",
    "XAr" => "V19",
    "TmA" => "V19",
    "10" => "V20",
    "mD" => "V20",
    "mH" => "V22",
    "wD" => "V24",
    "aD" => "V26",
    "H" => "V28",
    "wAH" => "V29",
    "sk" => "V29",
    "nb" => "V30",
    "k" => "V31",
    "msn" => "V32",
    "sSr" => "V33",
    "idr" => "V37",
    "bAs" => "W2",
    "Hb" => "W3",
    "Xnm" => "W9",
    "iab" => "W10",
    "nzt" => "W11",
    "g" => "W11",
    "Hz" => "W14",
    "xnt" => "W17",
    "mi" => "W19",
    "Hnqt" => "W22",
    "nw" => "W24",
    "ini" => "W25",
    "t" => "X1",
    "rdi" => "X8",
    "di" => "X8",
    "mDAt" => "Y1",
    "mnhd" => "Y3",
    "zS" => "Y3",
    "mn" => "Y5",
    "ibA" => "Y6",
    "zSSt" => "Y8",
    "y" => "Z4",
    "W" => "Z7",
    "imi" => "Z11",
    "x" => "Aa1",
    "Hp" => "Aa5",
    "qn" => "Aa8",
    "mAa" => "Aa11",
    "im" => "Aa13",
    "gs" => "Aa13",
    "M" => "Aa13",
    "sA" => "Aa17",
    "apr" => "Aa20",
    "wDa" => "Aa21",
    "nD" => "Aa27",
    "qd" => "Aa28",
    "Xkr" => "Aa30"
};

static UNI_GLYPHS_BY_SHAPE: phf::Map<&'static str, phf::OrderedSet<&'static str>> = phf_map! {
    "tall" => phf_ordered_set! {
        "M40","Aa28","Aa29","P11","D16","T34","T35","U28",
        "U29","U32","U33","S43","U36","T8","T8a","M13","M17",
        "H6","H6a","M4","M12","S29","M29","M30","S37","R14",
        "R15","R16","R17","P6","S40","R19","S41","F10",
        "F11","F12","S38","S39","T14","T15","T13","Aa26",
        "O30","Aa21","U39","F45","O44","Aa27","R8","R9",
        "T7a","T3","T4","V24","V25","U23","S42",
        "U34","S36","F28","U26","U27","U24","U25","Y8",
        "F35","F36","U41","W19","P8","T22","T23","Z11",
        "S44","Aa25","M44","V38","Aa31","Aa30","Aa20","V36",
        "F31","M32","L7","V17","V18","S34","V39","Q7",
        "T18","T19","T20","R21","R11","O28","O11","O36",
        "Aa32","V28","V29"
    },
    "broad" => phf_ordered_set! {
        "N1","N37","N38","N39","S32","N18","X4","X5",
        "N17","N16","N20","Aa10","Aa11","Aa12","Aa13","Aa14",
        "Aa15","N35","Aa8","Aa9","V26","V27","R24","W8",
        "V32","Y1","Y2","R4","N11","N12","F42","D24",
        "D25","D13","D15","F20","Z6","F33","T2","T7",
        "F30","V22","V23","R5","R6","O34","V2","V3",
        "S24","R22","R23","T11","O29","T1","T21","U20",
        "U19","U21","D17","U31","T9","T9a","T10","F32",
        "V13","V14","F46","F47","F48","F49","M11","U17",
        "U18","U14","Aa7","F18","D51","U15","U16","Aa24",
        "N31","O31","N36","D14","D21","D22","T30","T31",
        "T33","D48","V30","V31","W3","S12","N30","O42",
        "O43","V16"
    },
    "narrow" => phf_ordered_set! {
        "Q3","O39","Z8","O47","N22","N21","N23","N29",
        "X7","O45","O46","Y6","M35","X3","X2","X1",
        "N28","Aa17","I6","W10","W10a","Aa4","R7","M39",
        "M36","F43","F41","N34","U30","W11","W12","W13",
        "T28","N41","N42","V37","M31","F34","W6","W7",
        "W21","W20","V6","V33","V34","V7","V8","S20",
        "V20","V19","Aa19","Aa2","Aa3","N32","F52","V35",
        "H8","M41","F51","D11","K6","L6","F21","D26",
        "N33","D12","S21","N5","N9","N10","Aa1","O50",
        "O49","O48","X6","V9","S10","N6","N8","S11",
        "N15","M42","F38","V1","Z7","Aa16","Z9","Z10"
    }
};

static UNI_CATEGORIES: phf::OrderedSet<&'static str> = phf_ordered_set! {
    "A","B","C","D","E","F","G","H","I",
    "K","L","M","N","NL","NU","O","P","Q","R","S","T","U","V",
    "W","X","Y","Z","Aa"
};

static UNI_SHAPES: phf::OrderedSet<&'static str> = phf_ordered_set! {
    "tall","broad","narrow"
};

static UNI_CATEGORIES_AND_SHAPES: phf::OrderedSet<&'static str> = phf_ordered_set! {
    "A","B","C","D","E","F","G","H","I",
    "K","L","M","N","NL","NU","O","P","Q","R","S","T","U","V",
    "W","X","Y","Z","Aa",
    "tall","broad","narrow"
};

const UNI_DAMAGE_CHAR_BASE: u32 = 0x13446;

// Of the following, only UNI_ALL_STRUCTURE was global in the original code (e.g. /.../g )
lazy_static! {
    static ref RE_UNI_NAME_STRUCTURE: Regex = Regex::new(r##"([A-I]|[K-Z]|(?:Aa)|(?:NL)|(?:NU))([1-9](?:[0-9][0-9]?)?)([a-z]{0,2})"##).unwrap();
    static ref RE_UNI_MNEMONIC_STRUCTURE: Regex = Regex::new(r##"[a-zA-Z]+"##).unwrap();
    static ref RE_UNI_CONTROL_STRUCTURE: Regex = Regex::new(r##":|\*|\^st|\^sb|\^et|\^sb|\+|\(|\)"##).unwrap();
    static ref RE_UNI_ALL_STRUCTURE: Regex = Regex::new(r##"([A-I]|[K-Z]|(?:Aa)|(?:NL)|(?:NU))([1-9](?:[0-9][0-9]?)?)([a-z]{0,2})|[a-zA-Z]+|:|\*|\^st|\^sb|\^et|\^sb|\+|\(|\)"##).unwrap();
    // let results: Vec<&str> = RE_UNI_ALL_STRUCTURE.find_iter(hay).map(|m| m.as_str()).collect(); // /../g <- matching global
}

pub struct UniHiero {
    cat_to_texts: HashMap<&'static str, Vec<String>>,
    cat_to_texts_extended: HashMap<&'static str, Vec<String>>,

    glyph_to_text: HashMap<char, String>,
    point_to_text: HashMap<char, String>,
}

impl UniHiero {
	pub fn new() -> Self {
        // struct fields
        let mut cat_to_texts: HashMap<&'static str, Vec<String>> = HashMap::new();
        let mut cat_to_texts_extended: HashMap<&'static str, Vec<String>> = HashMap::new();

        // top-level population of above hashes. will deep-populate later
        for cat in UNI_CATEGORIES.iter().copied() {
            cat_to_texts.insert(cat, Vec::new());
            cat_to_texts_extended.insert(cat, Vec::new());
        }

        // struct fields
        let mut glyph_to_text: HashMap<char, String> = HashMap::new();
        let mut point_to_text: HashMap<char, String> = HashMap::new();

        // population of above hashes, deep population of cat_to_texts. _unicode and _utf8 reused later
        let mut _key_unicode: char = '\u{00000}';
        for glyph in UNI_GLYPHS.keys().copied() {
            _key_unicode = UNI_GLYPHS.get(glyph).copied().unwrap();

            glyph_to_text.insert(_key_unicode, glyph.to_string());
            point_to_text.insert(_key_unicode, glyph.to_string());

            // TODO: the use of .first() may be wrong. I need to compare the return structure with the JS
            let cat: &str = RE_UNI_NAME_STRUCTURE.find_iter(glyph).map(|m| m.as_str()).collect::<Vec<&str>>()[1];
            cat_to_texts.get_mut(cat).unwrap().push(glyph.to_string());
        }

        for glyph in EXT_GLYPHS.keys().copied() {
            _key_unicode = EXT_GLYPHS.get(glyph).copied().unwrap();
            // _key_utf8 = _key_unicode.to_string();

            // TODO: the use of .first() may be wrong. I need to compare the return structure with the JS
            let cat: &str = RE_UNI_NAME_STRUCTURE.find_iter(glyph).map(|m| m.as_str()).collect::<Vec<&str>>()[1];
            cat_to_texts_extended.get_mut(cat).unwrap().push(glyph.to_string());
        }

        for control in UNI_CONTROLS.keys().copied() {
            _key_unicode = UNI_CONTROLS.get(control).copied().unwrap();

            point_to_text.insert(_key_unicode, control.to_string());
        }

		Self {
            cat_to_texts,
            cat_to_texts_extended,

            glyph_to_text,
            point_to_text,
        }
	}

    // Original JS:
    // nameToTexts(name) {
    //     return Array.from(name).filter(c => c in this.glyphToText).map(c => this.glyphToText[c]);
    // }
    fn name_to_texts(&self, name: &str) -> String {
        name.chars()
            .filter(|c| self.glyph_to_text.contains_key(c))
            .map(|c| self.glyph_to_text.get(&c).unwrap().to_string())
            .collect::<String>()
    }

    // Original JS:
    // textToName(text) {
    // 		const matches = text.match(uniAllStructure);
    // 		return matches ? matches.map(s =>
    // 			s in uniGlyphs ? String.fromCodePoint(uniGlyphs[s]) :
    // 			s in extGlyphs ? String.fromCodePoint(extGlyphs[s]) :
    // 			s in uniControls ? String.fromCodePoint(uniControls[s]) :
    // 			s in uniMnemonics ? String.fromCodePoint(uniGlyphs[uniMnemonics[s]]) :
    // 			'').join('') : '';
    // 	}
    fn text_to_name(&self, text: &str) -> String {
        let matches: Vec<&str> = RE_UNI_ALL_STRUCTURE.find(&text).iter().map(|m| m.as_str()).collect::<Vec<&str>>();
        let mut result: String = "".to_string();

        for m in matches {
            if UNI_GLYPHS.contains_key(m) {
                result.push(*UNI_GLYPHS.get(m).unwrap());
            } else if EXT_GLYPHS.contains_key(m) {
                result.push(*EXT_GLYPHS.get(m).unwrap());
            } else if UNI_CONTROLS.contains_key(m) {
                result.push(*UNI_CONTROLS.get(m).unwrap());
            } else if UNI_MNEMONICS.contains_key(m) {
                result.push(*UNI_GLYPHS.get(UNI_MNEMONICS.get(m).unwrap()).unwrap());
            }
        }

        result
    }

    fn cmp_text(&self, name1: &str, name2: &str) -> i32 {
        let parts1: Vec<&str> = RE_UNI_NAME_STRUCTURE.find_iter(name1).map(|m| m.as_str()).collect::<Vec<&str>>();
        let parts2: Vec<&str> = RE_UNI_NAME_STRUCTURE.find_iter(name2).map(|m| m.as_str()).collect::<Vec<&str>>();

        let cat1: &str = parts1[1];
        let cat2: &str = parts2[1];

        let num1: u32 = u32::from_str_radix(parts1[2], 10).unwrap();
        let num2: u32 = u32::from_str_radix(parts2[2], 10).unwrap();

        let suf1: &str = parts1[3];
        let suf2: &str = parts2[3];

        if cat1 == cat2 {
            return if num1 < num2 {
                -1
            } else if num1 > num2 {
                1
            } else if suf1.len() < suf2.len() {
                -1
            } else if suf1.len() > suf2.len() {
                1
            } else if suf1 < suf2 {
                -1
            } else if suf1 > suf2 {
                1
            } else {
                0
            }
        } else {
            (UNI_CATEGORIES.get_index(cat1).unwrap() - UNI_CATEGORIES.get_index(cat2).unwrap()) as i32
        }
    }

    fn cmp_texts(&self, names1: &str, names2: &str) -> i32 {
        if names1.len() == 0 {
            return if names2.len() == 0 {
                0
            } else {
                -1
            }
        } else {
            return if names2.len() == 0 {
                1
            } else if names1.chars().nth(0) < names2.chars().nth(0) {
                -1
            } else if names1.chars().nth(0) > names2.chars().nth(0) {
                1
            } else {
                self.cmp_texts(&names1[1..], &names2[1..])
            }
        }
    }
}
